@using Microsoft.AspNetCore.Components
@using CarSharing_Client.Models

<EditForm Model="Listing" OnValidSubmit="SubmitHandler">
    <div class="form-row">
        <div class="form-group col-md-5">
            <label>Date from </label>
            <InputDate class="form-control" placeholder="@DateTime.UtcNow" @bind-Value="Listing.DateFrom"> </InputDate>
        </div>
        <div class="form-group col-md-5">
            <label >Date to</label>
            <InputDate class="form-control" placeholder="@DateTime.UtcNow" @bind-Value="Listing.DateTo"> </InputDate>
        </div>
    </div>

    <div class="form-row">
        <div class="form-group col-md-5">
            <label >Price</label>
            <InputNumber class="form-control" placeholder="Amount in DKK" @bind-Value="Listing.Price"> </InputNumber>
        </div>

        <div class="form-group col-md-5">
            <label >Location</label>
            <InputText type="text" class="form-control" placeholder="City" @bind-Value="Listing.Location"> </InputText>
        </div>

    </div>

    <div class="col-4 ml-2 mt-4">
        <p class="actions">
            <button class="btn btn-outline-dark " type="submit">Submit vehicle</button>
            <button class="btn btn-danger" type="button" @onclick="CancelHandler">Cancel</button>
        </p>
    </div>
</EditForm>

@if (ErrorMessage != "")
{
    <div class="alert alert-danger" role="alert">
        @ErrorMessage
    </div>
}

@code {

    [Parameter]
    public Listing Listing { get; set; }

    [Parameter]
    public EventCallback SubmitHandler { get; set; }

    [Parameter]
    public EventCallback CancelHandler { get; set; }

    [Parameter]
    public string ErrorMessage { get; set; }

}